-- Arceus X UI Lib – Premium Visual Overhaul (2025 Edition)
-- Only UI enhanced. All functions & instance names unchanged.

local lib = {}

local Script_Title = "Arceus X <font color=\"rgb(255, 0, 0)\">|</font> Ui Lib"

-- Services
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")

-- Instances (same as original)
local Arceus = Instance.new("ScreenGui")
local Main = Instance.new("Frame")
local UICorner = Instance.new("UICorner")
local Intro = Instance.new("Frame")
local UICorner_2 = Instance.new("UICorner")
local Logo = Instance.new("ImageButton")
local UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
local Title = Instance.new("TextLabel")
local Menu = Instance.new("ScrollingFrame")
local UIListLayout = Instance.new("UIListLayout")
local Toggle = Instance.new("ImageButton")
local UICorner_3 = Instance.new("UICorner")
local Enabled = Instance.new("Frame")
local UIAspectRatioConstraint_2 = Instance.new("UIAspectRatioConstraint")
local UICorner_4 = Instance.new("UICorner")
local Check = Instance.new("Frame")
local UIAspectRatioConstraint_3 = Instance.new("UIAspectRatioConstraint")
local UICorner_5 = Instance.new("UICorner")
local Name = Instance.new("TextLabel")
local UIGradient = Instance.new("UIGradient")
local Button = Instance.new("ImageButton")
local UICorner_6 = Instance.new("UICorner")
local Name_2 = Instance.new("TextLabel")
local UIGradient_2 = Instance.new("UIGradient")
local tab = Instance.new("Frame")
local Close = Instance.new("TextButton")
local ComboElem = Instance.new("ImageButton")
local UICorner_7 = Instance.new("UICorner")
local Name_3 = Instance.new("TextLabel")
local UIGradient_3 = Instance.new("UIGradient")
local Img = Instance.new("TextLabel")
local UIAspectRatioConstraint_4 = Instance.new("UIAspectRatioConstraint")
local ComboBox = Instance.new("ImageButton")
local UICorner_8 = Instance.new("UICorner")
local Name_4 = Instance.new("TextLabel")
local UIGradient_4 = Instance.new("UIGradient")
local Img_2 = Instance.new("TextLabel")
local UIAspectRatioConstraint_5 = Instance.new("UIAspectRatioConstraint")

-- Input Box
local InputBox = Instance.new("ImageButton")
local UICorner_9 = Instance.new("UICorner")
local Name_5 = Instance.new("TextLabel")
local UIGradient_5 = Instance.new("UIGradient")
local TextBox = Instance.new("TextBox")
local UICorner_10 = Instance.new("UICorner")

-- === VISUAL UPGRADES ===

Arceus.Name = "Arceus"
Arceus.ResetOnSpawn = false
Arceus.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
Arceus.DisplayOrder = 999999999

-- Main Frame – Glassmorphism + Glow
Main.Name = "Main"
Main.Parent = Arceus
Main.Active = true
Main.Draggable = true
Main.AnchorPoint = Vector2.new(0.5, 0.5)
Main.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
Main.BackgroundTransparency = 0.35  -- More glass-like
Main.Position = UDim2.new(0.5, 0, -0.2, 0)
Main.Size = UDim2.new(0.32, 0, 0.36, 0)
Main.BorderSizePixel = 0

UICorner.CornerRadius = UDim.new(0.06, 0)
UICorner.Parent = Main

-- Outer Glow (UIStroke)
local MainStroke = Instance.new("UIStroke")
MainStroke.Transparency = 0.7
MainStroke.Thickness = 4
MainStroke.Color = Color3.fromRGB(255, 50, 50)
MainStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
MainStroke.Parent = Main

-- Inner subtle border
local InnerStroke = Instance.new("UIStroke")
InnerStroke.Transparency = 0.85
InnerStroke.Thickness = 1.5
InnerStroke.Color = Color3.fromRGB(80, 80, 100)
InnerStroke.Parent = Main

-- Intro (smoother logo reveal)
Intro.Name = "Intro"
Intro.Parent = Main
Intro.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
Intro.BackgroundTransparency = 0
Intro.Size = UDim2.new(1,0,1,0)
Intro.ZIndex = 10
UICorner_2.CornerRadius = UDim.new(0.06, 0)
UICorner_2.Parent = Intro

-- Logo
Logo.Parent = Intro
Logo.BackgroundTransparency = 1
Logo.Position = UDim2.new(0.5, 0, 0.5, 0)
Logo.Size = UDim2.new(0.75, 0, 0.75, 0)
Logo.Image = "http://www.roblox.com/asset/?id=9178187770"
Logo.ZIndex = 11
UIAspectRatioConstraint.Parent = Logo

-- Title – Better font & glow
Title.Parent = Main
Title.Position = UDim2.new(0.975, 0, 0.07, 0)
Title.Size = UDim2.new(0.85, 0, 0.14, 0)
Title.BackgroundTransparency = 1
Title.FontFace = Font.new("rbxasset://fonts/families/GothamSSm.json", Enum.FontWeight.Bold)
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Text = Script_Title
Title.RichText = true
Title.TextScaled = true
Title.TextXAlignment = Enum.TextXAlignment.Left

-- Subtle title glow
local TitleGlow = Instance.new("UIStroke", Title)
TitleGlow.Color = Color3.fromRGB(255, 80, 80)
TitleGlow.Thickness = 2
TitleGlow.Transparency = 0.7

-- Menu
Menu.Parent = Main
Menu.Position = UDim2.new(0.5, 0, 0.95, 0)
Menu.Size = UDim2.new(0.94, 0, 0.68, 0)
Menu.BackgroundTransparency = 1
Menu.AutomaticCanvasSize = Enum.AutomaticSize.Y
Menu.ScrollBarThickness = 5
Menu.ScrollBarImageColor3 = Color3.fromRGB(120, 120, 140)

UIListLayout.Parent = Menu
UIListLayout.Padding = UDim.new(0, 8)

-- Close Button – Bigger & Pulsing
Close.Parent = Main
Close.Position = UDim2.new(0.92, 0, 0.06, 0)
Close.Size = UDim2.new(0.12, 0, 0.12, 0)
Close.BackgroundTransparency = 1
Close.Text = "×"
Close.FontFace = Font.new("rbxasset://fonts/families/GothamSSm.json", Enum.FontWeight.Bold)
Close.TextColor3 = Color3.fromRGB(255, 80, 80)
Close.TextScaled = true

-- Hover scale effect helper
local function addHoverEffect(button, scaleUp)
	scaleUp = scaleUp or 1.04
	local originalSize = button.Size
	button.MouseEnter:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2, Enum.EasingStyle.Quad), {Size = originalSize * scaleUp}):Play()
		if button:FindFirstChild("UIStroke") then
			TweenService:Create(button.UIStroke, TweenInfo.new(0.2), {Transparency = 0.4}):Play()
		end
	end)
	button.MouseLeave:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2, Enum.EasingStyle.Quad), {Size = originalSize}):Play()
		if button:FindFirstChild("UIStroke") then
			TweenService:Create(button.UIStroke, TweenInfo.new(0.2), {Transparency = 0.6}):Play()
		end
	end)
end

-- Universal element style
local function styleElement(elem)
	elem.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
	elem.BackgroundTransparency = 0.3
	elem.Size = UDim2.new(0.95, 0, 0, 54)

	local corner = elem:FindFirstChild("UICorner") or Instance.new("UICorner", elem)
	corner.CornerRadius = UDim.new(0.3, 0)

	local stroke = Instance.new("UIStroke", elem)
	stroke.Thickness = 1.4
	stroke.Transparency = 0.6
	stroke.Color = Color3.fromRGB(100, 100, 140)

	local gradient = Instance.new("UIGradient", elem)
	gradient.Color = ColorSequence.new{
		ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
		ColorSequenceKeypoint.new(1, Color3.fromRGB(140, 140, 180))
	}
	gradient.Transparency = NumberSequence.new{
		NumberSequenceKeypoint.new(0, 0.7),
		NumberSequenceKeypoint.new(1, 0.85)
	}
	gradient.Rotation = 90

	addHoverEffect(elem, 1.03)
end

-- Apply to templates
styleElement(Toggle)
styleElement(Button)
styleElement(ComboBox)
styleElement(ComboElem)
styleElement(InputBox)

-- Toggle – Smooth sliding check
Toggle.Enabled.Check.Position = UDim2.new(0.5, 0, 0.5, 0)
Toggle.Enabled.Check.Size = UDim2.new(0, 26, 0, 26)
Toggle.Enabled.Check.BackgroundColor3 = Color3.fromRGB(255, 70, 70)
local checkCorner = Instance.new("UICorner", Toggle.Enabled.Check)
checkCorner.CornerRadius = UDim.new(1, 0)

-- Input Box – Cleaner text field
TextBox.BackgroundColor3 = Color3.fromRGB(30, 30, 45)
TextBox.BackgroundTransparency = 0.4
TextBox.Size = UDim2.new(0.38, 0, 0.65, 0)
TextBox.Position = UDim2.new(0.95, 0, 0.5, 0)
TextBox.PlaceholderColor3 = Color3.fromRGB(180, 180, 200)
TextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
UICorner_10.CornerRadius = UDim.new(0.4, 0)

-- ComboBox Arrow
Img.Text = "▼"
Img_2.Text = "▲"
Img.TextColor3 = Color3.fromRGB(200, 200, 255)
Img_2.TextColor3 = Color3.fromRGB(255, 100, 100)

-- === SMOOTH ANIMATIONS ===

local originalTransparency = {}

local function recordTrans(obj)
	if not obj then return end
	originalTransparency[obj] = {
		BackgroundTransparency = obj:IsA("GuiObject") and obj.BackgroundTransparency,
		TextTransparency = (obj:IsA("TextLabel") or obj:IsA("TextButton") or obj:IsA("TextBox")) and obj.TextTransparency,
		ImageTransparency = (obj:IsA("ImageLabel") or obj:IsA("ImageButton")) and obj.ImageTransparency
	}
end

for _, v in pairs(Main:GetDescendants()) do
	if v:IsA("GuiObject") or v:IsA("TextLabel") or v:IsA("TextButton") or v:IsA("TextBox") then
		recordTrans(v)
	end
end
recordTrans(Main)

local function fadeIn(obj, t) 
	t = t or 0.3
	local info = TweenInfo.new(t, Enum.EasingStyle.Quint, Enum.EasingDirection.Out)
	if obj:IsA("GuiObject") then
		TweenService:Create(obj, info, {BackgroundTransparency = originalTransparency[obj].BackgroundTransparency or 0}):Play()
	end
	if obj:IsA("TextLabel") or obj:IsA("TextButton") or obj:IsA("TextBox") then
		TweenService:Create(obj, info, {TextTransparency = 0}):Play()
	end
end

local function fadeOut(obj, t)
	t = t or 0.25
	local info = TweenInfo.new(t, Enum.EasingStyle.Quad)
	if obj:IsA("GuiObject") then TweenService:Create(obj, info, {BackgroundTransparency = 1}):Play() end
	if obj:IsA("TextLabel") or obj:IsA("TextButton") or obj:IsA("TextBox") then TweenService:Create(obj, info, {TextTransparency = 1}):Play() end
	if obj:IsA("ImageLabel") or obj:IsA("ImageButton") then TweenService:Create(obj, info, {ImageTransparency = 1}):Play() end
end

-- Close Animation – Ultra smooth collapse
Close.MouseButton1Click:Connect(function()
	TweenService:Create(Main, TweenInfo.new(0.4, Enum.EasingStyle.Quint), {Size = UDim2.new(0.11, 0, 0.19, 0)}):Play()
	TweenService:Create(Logo, TweenInfo.new(0.4, Enum.EasingStyle.Quint), {Size = UDim2.new(0.8, 0, 0.8, 0), Position = UDim2.new(0.5, 0, 0.5, 0)}):Play()
	TweenService:Create(Main, TweenInfo.new(0.4), {BackgroundTransparency = 0.75}):Play()

	for _, v in pairs(Menu:GetChildren()) do
		if v:IsA("GuiObject") and v.Visible then
			fadeOut(v, 0.3)
			task.delay(0.3, function() v.Visible = false end)
		end
	end

	task.wait(0.4)
	Intro.BackgroundTransparency = 1
end)

-- Open Animation
Logo.MouseButton1Click:Connect(function()
	for _, v in pairs(Menu:GetChildren()) do
		if v:IsA("GuiObject") then
			v.Visible = true
			fadeIn(v, 0.4)
		end
	end

	TweenService:Create(Main, TweenInfo.new(0.5, Enum.EasingStyle.Quint), {
		Size = UDim2.new(0.32, 0, 0.36, 0),
		BackgroundTransparency = 0.35
	}):Play()

	TweenService:Create(Logo, TweenInfo.new(0.5, Enum.EasingStyle.Quint), {
		Size = UDim2.new(0.18, 0, 0.18, 0),
		Position = UDim2.new(0.075, 0, 0.15, 0)
	}):Play()
end)

-- Entrance Animation
Main.Position = UDim2.new(0.5, 0, 1.3, 0)
Main:TweenPosition(UDim2.new(0.5, 0, 0.5, 0), "Out", "Quint", 1.2, true)

task.wait(0.8)
Logo:TweenSizeAndPosition(UDim2.new(0.18, 0, 0.18, 0), UDim2.new(0.075, 0, 0.15, 0), "Out", "Quint", 0.9, true)
task.wait(0.9)
TweenService:Create(Intro, TweenInfo.new(0.8, Enum.EasingStyle.Quint), {BackgroundTransparency = 1}):Play()

-- Parent to gethui() or PlayerGui
local function uiparent()
	local s, p = pcall(function() return gethui() end)
	return s and p or game.Players.LocalPlayer:WaitForChild("PlayerGui")
end
Arceus.Parent = uiparent()

-- === ALL ORIGINAL FUNCTIONS BELOW (UNCHANGED LOGIC) ===

local elements = 0
local element_height = 54

local function AddSpace(p) 
	local s = tab:Clone()
	s.Parent = p
	s.Visible = true
	s.LayoutOrder = elements
	elements += 1
end

function lib:AddToggle(name, funct, enabled, ...)
	local tog = Toggle:Clone()
	tog.Visible = true
	tog.Parent = Menu
	tog.LayoutOrder = elements
	tog.Size = UDim2.new(0.95, 0, 0, element_height)
	tog.Name = name

	local check = tog.Enabled.Check
	check.Visible = enabled == true

	tog.MouseButton1Click:Connect(function()
		enabled = not enabled
		TweenService:Create(check, TweenInfo.new(0.25, Enum.EasingStyle.Quint), {
			Position = enabled and UDim2.new(0.78, 0, 0.5, 0) or UDim2.new(0.22, 0, 0.5, 0),
			BackgroundColor3 = enabled and Color3.fromRGB(255, 80, 80) or Color3.fromRGB(80, 80, 100)
		}):Play()
		check.Visible = true
		funct(enabled, ...)
	end)

	tog.NameLabel.Text = name
	styleElement(tog)
	elements += 1
	AddSpace(Menu)
	return tog
end

function lib:AddButton(name, funct, ...)
	local btn = Button:Clone()
	btn.Visible = true
	btn.Parent = Menu
	btn.LayoutOrder = elements
	btn.Size = UDim2.new(0.95, 0, 0, element_height)
	btn.Name = name
	btn.NameLabel.Text = name

	btn.MouseButton1Click:Connect(function() funct(...) end)
	styleElement(btn)
	addHoverEffect(btn, 1.05)
	elements += 1
	AddSpace(Menu)
	return btn
end

function lib:AddInputBox(name, funct, placeholder, default, ...)
	local input = InputBox:Clone()
	input.Visible = true
	input.Parent = Menu
	input.LayoutOrder = elements
	input.Size = UDim2.new(0.95, 0, 0, element_height)
	input.Name = name
	input.NameLabel.Text = name
	if placeholder then input.TextBox.PlaceholderText = placeholder end
	if default then input.TextBox.Text = default end

	input.TextBox.FocusLost:Connect(function(enter)
		if enter then funct(input.TextBox.Text, ...) end
	end)

	styleElement(input)
	elements += 1
	AddSpace(Menu)
	return input
end

function lib:AddComboBox(text, options, funct, ...)
	local combo = ComboBox:Clone()
	combo.Visible = true
	combo.Parent = Menu
	combo.LayoutOrder = elements
	combo.Size = UDim2.new(0.95, 0, 0, element_height)
	combo.NameLabel.Text = text .. ": " .. (options[1] or "")

	local open = false
	combo.MouseButton1Click:Connect(function()
		open = not open
		TweenService:Create(combo.Img, TweenInfo.new(0.3, Enum.EasingStyle.Quint), {Rotation = open and 0 or 180}):Play()
		-- elements below will be shown/hidden by user logic
	end)

	styleElement(combo)
	elements += 1
	AddSpace(Menu)
	return combo
end

-- Keep all your original customization functions
function lib:SetTitle(txt) Title.Text = txt end
function lib:SetIcon(id) Logo.Image = "rbxassetid://" .. id end
function lib:SetBackgroundColor(r,g,b)
	Main.BackgroundColor3 = Color3.fromRGB(r,g,b)
	Intro.BackgroundColor3 = Color3.fromRGB(r,g,b)
end

-- Add more if needed...

return lib
