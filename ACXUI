local lib = {}

local Script_Title = "Arceus X <font color=\"rgb(255, 0, 0)\">|</font> Ui Lib"

-- Instances:
local Arceus = Instance.new("ScreenGui")
local Main = Instance.new("Frame")
local UICorner = Instance.new("UICorner")
local Intro = Instance.new("Frame")
local UICorner_2 = Instance.new("UICorner")
local Logo = Instance.new("ImageButton")
local UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
local Title = Instance.new("TextLabel")
local Menu = Instance.new("ScrollingFrame")
local UIListLayout = Instance.new("UIListLayout")
local Toggle = Instance.new("ImageButton")
local UICorner_3 = Instance.new("UICorner")
local Enabled = Instance.new("Frame")
local UIAspectRatioConstraint_2 = Instance.new("UIAspectRatioConstraint")
local UICorner_4 = Instance.new("UICorner")
local Check = Instance.new("Frame")
local UIAspectRatioConstraint_3 = Instance.new("UIAspectRatioConstraint")
local UICorner_5 = Instance.new("UICorner")
local Name = Instance.new("TextLabel")
local UIGradient = Instance.new("UIGradient")
local Button = Instance.new("ImageButton")
local UICorner_6 = Instance.new("UICorner")
local Name_2 = Instance.new("TextLabel")
local UIGradient_2 = Instance.new("UIGradient")
local tab = Instance.new("Frame")
local Close = Instance.new("TextButton")
local ComboElem = Instance.new("ImageButton")
local UICorner_7 = Instance.new("UICorner")
local Name_3 = Instance.new("TextLabel")
local UIGradient_3 = Instance.new("UIGradient")
local Img = Instance.new("TextLabel")
local UIAspectRatioConstraint_4 = Instance.new("UIAspectRatioConstraint")
local ComboBox = Instance.new("ImageButton")
local UICorner_8 = Instance.new("UICorner")
local Name_4 = Instance.new("TextLabel")
local UIGradient_4 = Instance.new("UIGradient")
local Img_2 = Instance.new("TextLabel")
local UIAspectRatioConstraint_5 = Instance.new("UIAspectRatioConstraint")

-- New Input Box Instances:
local InputBox = Instance.new("ImageButton")
local UICorner_9 = Instance.new("UICorner")
local Name_5 = Instance.new("TextLabel")
local UIGradient_5 = Instance.new("UIGradient")
local TextBox = Instance.new("TextBox")
local UICorner_10 = Instance.new("UICorner")

-- UI Outline Effect
local MainOutline = Instance.new("UIStroke")
local ButtonOutline = Instance.new("UIStroke")
local ToggleOutline = Instance.new("UIStroke")
local ComboBoxOutline = Instance.new("UIStroke")
local InputBoxOutline = Instance.new("UIStroke")

-- Properties:

Arceus.Name = "Arceus"
Arceus.Enabled = true
Arceus.ResetOnSpawn = true
Arceus.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
Arceus.DisplayOrder = 999999999

Main.Name = "Main"
Main.Parent = Arceus
Main.Active = true
Main.Draggable = true
Main.AnchorPoint = Vector2.new(0.5, 0.5)
Main.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Main.BackgroundTransparency = 0.05
Main.BorderSizePixel = 0
Main.Position = UDim2.new(0.5, 0, -0.2, 0)
Main.Size = UDim2.new(0.3, 0, 0.3, 0)

-- Add outline to Main
MainOutline.Name = "MainOutline"
MainOutline.Parent = Main
MainOutline.Color = Color3.fromRGB(80, 80, 80)
MainOutline.Thickness = 2
MainOutline.Transparency = 0.3
MainOutline.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

UICorner.CornerRadius = UDim.new(0.08, 0)
UICorner.Parent = Main

Intro.Name = "Intro"
Intro.Parent = Main
Intro.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Intro.BackgroundTransparency = 0
Intro.ClipsDescendants = true
Intro.Size = UDim2.new(1, 0, 1, 0)
Intro.ZIndex = 2

UICorner_2.CornerRadius = UDim.new(0.08, 0)
UICorner_2.Parent = Intro

Logo.Parent = Intro
Logo.AnchorPoint = Vector2.new(0.5, 0.5)
Logo.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Logo.BackgroundTransparency = 1
Logo.BorderSizePixel = 0
Logo.Position = UDim2.new(0.5, 0, 0.5, 0)
Logo.Size = UDim2.new(0.75, 0, 0.75, 0)
Logo.ZIndex = 2
Logo.Image = "http://www.roblox.com/asset/?id=9178187770"
Logo.ImageTransparency = 0
Logo.ScaleType = Enum.ScaleType.Fit
Logo.Active = false

UIAspectRatioConstraint.Parent = Logo

Title.Name = "Title"
Title.Parent = Main
Title.AnchorPoint = Vector2.new(1, 0)
Title.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Title.BackgroundTransparency = 1
Title.BorderSizePixel = 0
Title.Position = UDim2.new(0.975, 0, 0.075, 0)
Title.Size = UDim2.new(0.85, 0, 0.155, 0)
Title.Font = Enum.Font.TitilliumWeb
Title.FontFace = Font.new("rbxasset://fonts/families/TitilliumWeb.json", Enum.FontWeight.Bold)
Title.RichText = true
Title.Text = Script_Title
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextScaled = true
Title.TextSize = 14
Title.TextTransparency = 0
Title.TextWrapped = true
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.TextYAlignment = Enum.TextYAlignment.Center

Menu.Name = "Menu"
Menu.Parent = Main
Menu.Active = true
Menu.AnchorPoint = Vector2.new(0.5, 1)
Menu.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Menu.BackgroundTransparency = 1
Menu.AutomaticCanvasSize = Enum.AutomaticSize.Y
Menu.BorderSizePixel = 0
Menu.Position = UDim2.new(0.5, 0, 0.95, 0)
Menu.Size = UDim2.new(0.95, 0, 0.65, 0)
Menu.CanvasSize = UDim2.new(0, 0, 0, 0)
Menu.ScrollBarImageColor3 = Color3.fromRGB(120, 120, 120)
Menu.ScrollBarImageTransparency = 0.5
Menu.ScrollBarThickness = Menu.AbsoluteSize.X/25

UIListLayout.Parent = Menu
UIListLayout.Padding = UDim.new(0.01, 0)
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder

Toggle.Name = "Toggle"
Toggle.Visible = false
Toggle.BackgroundColor3 = Color3.fromRGB(55, 55, 55)
Toggle.BackgroundTransparency = 0.1
Toggle.Size = UDim2.new(0.95, 0, 0, 50)

-- Add outline to Toggle
ToggleOutline.Name = "ToggleOutline"
ToggleOutline.Parent = Toggle
ToggleOutline.Color = Color3.fromRGB(100, 100, 100)
ToggleOutline.Thickness = 1.5
ToggleOutline.Transparency = 0.4

UICorner_3.CornerRadius = UDim.new(0.2, 0)
UICorner_3.Parent = Toggle

Enabled.Name = "Enabled"
Enabled.Parent = Toggle
Enabled.AnchorPoint = Vector2.new(1, 0.5)
Enabled.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
Enabled.BackgroundTransparency = 0.2
Enabled.Position = UDim2.new(0.975, 0, 0.5, 0)
Enabled.Size = UDim2.new(0.75, 0, 0.75, 0)

UIAspectRatioConstraint_2.Parent = Enabled

UICorner_4.CornerRadius = UDim.new(0.3, 0)
UICorner_4.Parent = Enabled

Check.Name = "Check"
Check.Parent = Enabled
Check.AnchorPoint = Vector2.new(0.5, 0.5)
Check.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
Check.Position = UDim2.new(0.5, 0, 0.5, 0)
Check.Size = UDim2.new(0.65, 0, 0.65, 0)

UIAspectRatioConstraint_3.Parent = Check

UICorner_5.CornerRadius = UDim.new(0.3, 0)
UICorner_5.Parent = Check

Name.Name = "Name"
Name.Parent = Toggle
Name.AnchorPoint = Vector2.new(0, 0.5)
Name.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Name.BackgroundTransparency = 1
Name.BorderSizePixel = 0
Name.Position = UDim2.new(0.05, 0, 0.5, 0)
Name.Size = UDim2.new(0.75, 0, 0.8, 0)
Name.Font = Enum.Font.TitilliumWeb
Name.Text = "Script"
Name.TextColor3 = Color3.fromRGB(255, 255, 255)
Name.TextScaled = true
Name.TextSize = 14
Name.TextWrapped = true
Name.TextXAlignment = Enum.TextXAlignment.Left
Name.TextYAlignment = Enum.TextYAlignment.Bottom

UIGradient.Color = ColorSequence.new{ColorSequenceKeypoint.new(0.00, Color3.fromRGB(255, 255, 255)), ColorSequenceKeypoint.new(1.00, Color3.fromRGB(200, 200, 200))}
UIGradient.Transparency = NumberSequence.new(0)
UIGradient.Parent = Toggle

Button.Name = "Button"
Button.BackgroundColor3 = Color3.fromRGB(55, 55, 55)
Button.BackgroundTransparency = 0.1
Button.Size = UDim2.new(0.95, 0, 0, 50)

-- Add outline to Button
ButtonOutline.Name = "ButtonOutline"
ButtonOutline.Parent = Button
ButtonOutline.Color = Color3.fromRGB(100, 100, 100)
ButtonOutline.Thickness = 1.5
ButtonOutline.Transparency = 0.4

UICorner_6.CornerRadius = UDim.new(0.2, 0)
UICorner_6.Parent = Button

Name_2.Name = "Name"
Name_2.Parent = Button
Name_2.AnchorPoint = Vector2.new(0, 0.5)
Name_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Name_2.BackgroundTransparency = 1
Name_2.BorderSizePixel = 0
Name_2.Position = UDim2.new(0.05, 0, 0.5, 0)
Name_2.Size = UDim2.new(0.95, 0, 0.82, 0)
Name_2.Font = Enum.Font.TitilliumWeb
Name_2.Text = "Enabled"
Name_2.TextColor3 = Color3.fromRGB(255, 255, 255)
Name_2.TextScaled = true
Name_2.TextSize = 14
Name_2.TextWrapped = true
Name_2.TextXAlignment = Enum.TextXAlignment.Left
Name_2.TextYAlignment = Enum.TextYAlignment.Bottom

UIGradient_2.Color = ColorSequence.new{ColorSequenceKeypoint.new(0.00, Color3.fromRGB(255, 255, 255)), ColorSequenceKeypoint.new(1.00, Color3.fromRGB(200, 200, 200))}
UIGradient_2.Transparency = NumberSequence.new(0)
UIGradient_2.Parent = Button

tab.Name = "Tab"
tab.Visible = false
tab.BackgroundTransparency = 1
tab.Size = UDim2.new(0.95, 0, 0.025, 0)

Close.Name = "Close"
Close.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Close.BackgroundTransparency = 1
Close.BorderSizePixel = 0
Close.Position = UDim2.new(0.8, 0, 0.1, 0)
Close.Size = UDim2.new(0.15, 0, 0.125, 0)
Close.Font = Enum.Font.FredokaOne
Close.Text = "X"
Close.TextColor3 = Color3.fromRGB(255, 0, 0)
Close.TextScaled = true
Close.TextSize = 14
Close.TextTransparency = 0
Close.TextWrapped = true
Close.TextXAlignment = Enum.TextXAlignment.Right
Close.Parent = Main

ComboElem.Name = "ComboElem"
ComboElem.BackgroundColor3 = Color3.fromRGB(55, 55, 55)
ComboElem.BackgroundTransparency = 0.1
ComboElem.Size = UDim2.new(0.95, 0, 0, 50)

UICorner_7.CornerRadius = UDim.new(0.2, 0)
UICorner_7.Parent = ComboElem

Name_3.Name = "Name"
Name_3.Parent = ComboElem
Name_3.AnchorPoint = Vector2.new(0, 0.5)
Name_3.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Name_3.BackgroundTransparency = 1
Name_3.BorderSizePixel = 0
Name_3.Position = UDim2.new(0.05, 0, 0.5, 0)
Name_3.Size = UDim2.new(0.75, 0, 0.8, 0)
Name_3.Font = Enum.Font.TitilliumWeb
Name_3.Text = "Enabled"
Name_3.TextColor3 = Color3.fromRGB(255, 255, 255)
Name_3.TextScaled = true
Name_3.TextSize = 14
Name_3.TextWrapped = true
Name_3.TextXAlignment = Enum.TextXAlignment.Left
Name_3.TextYAlignment = Enum.TextYAlignment.Bottom

UIGradient_3.Color = ColorSequence.new{ColorSequenceKeypoint.new(0.00, Color3.fromRGB(255, 255, 255)), ColorSequenceKeypoint.new(1.00, Color3.fromRGB(200, 200, 200))}
UIGradient_3.Rotation = 180
UIGradient_3.Transparency = NumberSequence.new(0)
UIGradient_3.Parent = ComboElem

Img.Name = "Img"
Img.Parent = ComboElem
Img.AnchorPoint = Vector2.new(1, 0.5)
Img.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Img.BackgroundTransparency = 1
Img.BorderSizePixel = 0
Img.Position = UDim2.new(0.975, 0, 0.5, 0)
Img.Rotation = 90
Img.Size = UDim2.new(0.75, 0, 0.75, 0)
Img.Font = Enum.Font.FredokaOne
Img.Text = "^"
Img.TextColor3 = Color3.fromRGB(255, 255, 255)
Img.TextScaled = true
Img.TextSize = 14
Img.TextWrapped = true

UIAspectRatioConstraint_4.Parent = Img

ComboBox.Name = "ComboBox"
ComboBox.BackgroundColor3 = Color3.fromRGB(55, 55, 55)
ComboBox.BackgroundTransparency = 0.1
ComboBox.Size = UDim2.new(0.95, 0, 0, 50)

-- Add outline to ComboBox
ComboBoxOutline.Name = "ComboBoxOutline"
ComboBoxOutline.Parent = ComboBox
ComboBoxOutline.Color = Color3.fromRGB(100, 100, 100)
ComboBoxOutline.Thickness = 1.5
ComboBoxOutline.Transparency = 0.4

UICorner_8.CornerRadius = UDim.new(0.2, 0)
UICorner_8.Parent = ComboBox

Name_4.Name = "Name"
Name_4.Parent = ComboBox
Name_4.AnchorPoint = Vector2.new(0, 0.5)
Name_4.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Name_4.BackgroundTransparency = 1
Name_4.BorderSizePixel = 0
Name_4.Position = UDim2.new(0.05, 0, 0.5, 0)
Name_4.Size = UDim2.new(0.75, 0, 0.8, 0)
Name_4.Font = Enum.Font.TitilliumWeb
Name_4.Text = "Enabled"
Name_4.TextColor3 = Color3.fromRGB(255, 255, 255)
Name_4.TextScaled = true
Name_4.TextSize = 14
Name_4.TextWrapped = true
Name_4.TextXAlignment = Enum.TextXAlignment.Left
Name_4.TextYAlignment = Enum.TextYAlignment.Bottom

UIGradient_4.Color = ColorSequence.new{ColorSequenceKeypoint.new(0.00, Color3.fromRGB(255, 255, 255)), ColorSequenceKeypoint.new(1.00, Color3.fromRGB(200, 200, 200))}
UIGradient_4.Transparency = NumberSequence.new(0)
UIGradient_4.Parent = ComboBox

Img_2.Name = "Img"
Img_2.Parent = ComboBox
Img_2.AnchorPoint = Vector2.new(1, 0.5)
Img_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Img_2.BackgroundTransparency = 1
Img_2.BorderSizePixel = 0
Img_2.Rotation = 180
Img_2.Position = UDim2.new(0.975, 0, 0.5, 0)
Img_2.Size = UDim2.new(0.75, 0, 0.75, 0)
Img_2.Font = Enum.Font.FredokaOne
Img_2.Text = "^"
Img_2.TextColor3 = Color3.fromRGB(255, 0, 0)
Img_2.TextScaled = true
Img_2.TextSize = 14
Img_2.TextWrapped = true

UIAspectRatioConstraint_5.Parent = Img_2

-- Input Box Properties:
InputBox.Name = "InputBox"
InputBox.BackgroundColor3 = Color3.fromRGB(55, 55, 55)
InputBox.BackgroundTransparency = 0.1
InputBox.Size = UDim2.new(0.95, 0, 0, 50)
InputBox.AutoButtonColor = false

-- Add outline to InputBox
InputBoxOutline.Name = "InputBoxOutline"
InputBoxOutline.Parent = InputBox
InputBoxOutline.Color = Color3.fromRGB(100, 100, 100)
InputBoxOutline.Thickness = 1.5
InputBoxOutline.Transparency = 0.4

UICorner_9.CornerRadius = UDim.new(0.2, 0)
UICorner_9.Parent = InputBox

Name_5.Name = "Name"
Name_5.Parent = InputBox
Name_5.AnchorPoint = Vector2.new(0, 0.5)
Name_5.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Name_5.BackgroundTransparency = 1
Name_5.BorderSizePixel = 0
Name_5.Position = UDim2.new(0.05, 0, 0.5, 0)
Name_5.Size = UDim2.new(0.75, 0, 0.8, 0)
Name_5.Font = Enum.Font.TitilliumWeb
Name_5.Text = "Input Box"
Name_5.TextColor3 = Color3.fromRGB(255, 255, 255)
Name_5.TextScaled = true
Name_5.TextSize = 14
Name_5.TextWrapped = true
Name_5.TextXAlignment = Enum.TextXAlignment.Left
Name_5.TextYAlignment = Enum.TextYAlignment.Bottom

UIGradient_5.Color = ColorSequence.new{ColorSequenceKeypoint.new(0.00, Color3.fromRGB(255, 255, 255)), ColorSequenceKeypoint.new(1.00, Color3.fromRGB(200, 200, 200))}
UIGradient_5.Transparency = NumberSequence.new(0)
UIGradient_5.Parent = InputBox

TextBox.Name = "TextBox"
TextBox.Parent = InputBox
TextBox.AnchorPoint = Vector2.new(1, 0.5)
TextBox.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
TextBox.BackgroundTransparency = 0.2
TextBox.BorderSizePixel = 0
TextBox.Position = UDim2.new(0.95, 0, 0.5, 0)
TextBox.Size = UDim2.new(0.35, 0, 0.6, 0)
TextBox.Font = Enum.Font.TitilliumWeb
TextBox.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
TextBox.PlaceholderText = "Enter text..."
TextBox.Text = ""
TextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
TextBox.TextScaled = true
TextBox.TextSize = 14
TextBox.TextTransparency = 0
TextBox.TextWrapped = true

UICorner_10.CornerRadius = UDim.new(0.15, 0)
UICorner_10.Parent = TextBox

-- SCRIPT

local TweenService = game:GetService("TweenService")
local function fadeIn(object, duration, properties)
	local tweenInfo = TweenInfo.new(duration or 0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
	TweenService:Create(object, tweenInfo, properties):Play()
end

local function fadeOut(object, duration, properties)
	local tweenInfo = TweenInfo.new(duration or 0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.In)
	TweenService:Create(object, tweenInfo, properties):Play()
end

Close.MouseButton1Click:Connect(function()
	Logo.Active = true
	
	-- Fade out elements
	fadeOut(Title, 0.2, {TextTransparency = 1})
	fadeOut(Close, 0.2, {TextTransparency = 1})
	fadeOut(MainOutline, 0.2, {Transparency = 1})
	
	-- Hide menu items with fade
	for _, item in pairs(Menu:GetChildren()) do
		if item:IsA("GuiObject") then
			fadeOut(item, 0.15, {BackgroundTransparency = 1})
			if item:FindFirstChildWhichIsA("TextLabel") then
				fadeOut(item:FindFirstChildWhichIsA("TextLabel"), 0.15, {TextTransparency = 1})
			end
			if item:FindFirstChildWhichIsA("UIStroke") then
				fadeOut(item:FindFirstChildWhichIsA("UIStroke"), 0.15, {Transparency = 1})
			end
		end
	end
	
	fadeOut(Intro, 0.25, {BackgroundTransparency = 0})
	task.wait(0.3)
	
	Logo:TweenSizeAndPosition(
		UDim2.fromScale(0.75, 0.75),
		UDim2.fromScale(0.5, 0.5),
		Enum.EasingDirection.Out,
		Enum.EasingStyle.Quad,
		0.3, true, nil
	)
	
	task.wait(0.3)
	Main:TweenSize(
		UDim2.fromScale(0.1, 0.175),
		Enum.EasingDirection.Out,
		Enum.EasingStyle.Quad,
		0.3, true, nil
	)
	
	task.wait(0.3)
	for _, obj in pairs(Main:GetChildren()) do
		if obj:IsA("GuiObject") and obj ~= Intro then
			obj.Visible = false
		end
	end
	
	fadeOut(Logo, 0.3, {ImageTransparency = 0.8})
	fadeOut(Intro, 0.3, {BackgroundTransparency = 1})
	fadeOut(Main, 0.3, {BackgroundTransparency = 0.8})
	fadeOut(MainOutline, 0.3, {Transparency = 0.8})
end)

Logo.MouseButton1Click:Connect(function()
	Logo.Active = false
	
	-- Fade in elements
	fadeIn(Logo, 0.3, {ImageTransparency = 0})
	fadeIn(Intro, 0.3, {BackgroundTransparency = 0})
	fadeIn(Main, 0.3, {BackgroundTransparency = 0.05})
	fadeIn(MainOutline, 0.3, {Transparency = 0.3})
	
	task.wait(0.3)
	Main:TweenSize(
		UDim2.fromScale(0.3, 0.3),
		Enum.EasingDirection.Out,
		Enum.EasingStyle.Quad,
		0.3, true, nil
	)
	
	task.wait(0.3)
	Logo:TweenSizeAndPosition(
		UDim2.fromScale(0.175, 0.175),
		UDim2.fromScale(0.075, 0.15),
		Enum.EasingDirection.Out,
		Enum.EasingStyle.Quad,
		0.3, true, nil
	)
	
	-- Make elements visible and fade them in
	for _, obj in pairs(Main:GetChildren()) do
		if obj:IsA("GuiObject") and obj ~= Intro then
			obj.Visible = true
			if obj.Name == "Title" then
				fadeIn(obj, 0.3, {TextTransparency = 0})
			elseif obj.Name == "Close" then
				fadeIn(obj, 0.3, {TextTransparency = 0})
			end
		end
	end
	
	-- Fade in menu items
	for _, item in pairs(Menu:GetChildren()) do
		if item:IsA("GuiObject") then
			fadeIn(item, 0.2, {BackgroundTransparency = 0.1})
			if item:FindFirstChildWhichIsA("TextLabel") then
				fadeIn(item:FindFirstChildWhichIsA("TextLabel"), 0.2, {TextTransparency = 0})
			end
			if item:FindFirstChildWhichIsA("UIStroke") then
				fadeIn(item:FindFirstChildWhichIsA("UIStroke"), 0.2, {Transparency = 0.4})
			end
		end
	end
	
	fadeIn(Title, 0.3, {TextTransparency = 0})
	fadeIn(Close, 0.3, {TextTransparency = 0})
	fadeIn(MainOutline, 0.3, {Transparency = 0.3})
	
	task.wait(0.3)
	fadeOut(Intro, 0.3, {BackgroundTransparency = 1})
end)

-- Add hover effects for interactive elements
local function addHoverEffect(button)
	local originalColor = button.BackgroundColor3
	local originalTransparency = button.BackgroundTransparency
	
	button.MouseEnter:Connect(function()
		fadeIn(button, 0.15, {BackgroundTransparency = 0})
		if button:FindFirstChildWhichIsA("UIStroke") then
			fadeIn(button:FindFirstChildWhichIsA("UIStroke"), 0.15, {Transparency = 0.2})
		end
	end)
	
	button.MouseLeave:Connect(function()
		fadeIn(button, 0.15, {BackgroundTransparency = originalTransparency})
		if button:FindFirstChildWhichIsA("UIStroke") then
			fadeIn(button:FindFirstChildWhichIsA("UIStroke"), 0.15, {Transparency = 0.4})
		end
	end)
end

-- Apply hover effects to element templates
local function applyHoverEffects()
	-- These will be applied when elements are created
	Toggle.MouseEnter:Connect(function()
		fadeIn(Toggle, 0.15, {BackgroundTransparency = 0})
		fadeIn(ToggleOutline, 0.15, {Transparency = 0.2})
	end)
	
	Toggle.MouseLeave:Connect(function()
		fadeIn(Toggle, 0.15, {BackgroundTransparency = 0.1})
		fadeIn(ToggleOutline, 0.15, {Transparency = 0.4})
	end)
	
	Button.MouseEnter:Connect(function()
		fadeIn(Button, 0.15, {BackgroundTransparency = 0})
		fadeIn(ButtonOutline, 0.15, {Transparency = 0.2})
	end)
	
	Button.MouseLeave:Connect(function()
		fadeIn(Button, 0.15, {BackgroundTransparency = 0.1})
		fadeIn(ButtonOutline, 0.15, {Transparency = 0.4})
	end)
	
	ComboBox.MouseEnter:Connect(function()
		fadeIn(ComboBox, 0.15, {BackgroundTransparency = 0})
		fadeIn(ComboBoxOutline, 0.15, {Transparency = 0.2})
	end)
	
	ComboBox.MouseLeave:Connect(function()
		fadeIn(ComboBox, 0.15, {BackgroundTransparency = 0.1})
		fadeIn(ComboBoxOutline, 0.15, {Transparency = 0.4})
	end)
	
	InputBox.MouseEnter:Connect(function()
		fadeIn(InputBox, 0.15, {BackgroundTransparency = 0})
		fadeIn(InputBoxOutline, 0.15, {Transparency = 0.2})
	end)
	
	InputBox.MouseLeave:Connect(function()
		fadeIn(InputBox, 0.15, {BackgroundTransparency = 0.1})
		fadeIn(InputBoxOutline, 0.15, {Transparency = 0.4})
	end)
	
	ComboElem.MouseEnter:Connect(function()
		fadeIn(ComboElem, 0.15, {BackgroundTransparency = 0})
	end)
	
	ComboElem.MouseLeave:Connect(function()
		fadeIn(ComboElem, 0.15, {BackgroundTransparency = 0.1})
	end)
end

applyHoverEffects()

local function uiparent()
	local success, parent = pcall(function()
		return gethui()
	end)

	if not success then
		return game:GetService("CoreGui")
	end

	return parent
end

local success, err = pcall(function()
	Arceus.Parent = uiparent()
end)

if not success then
	Arceus.Parent = game:GetService("Players").LocalPlayer.PlayerGui
end

local element_height = 50*Menu.AbsoluteSize.Y/210
local elements = 0

local function AddSpace(parent)
	local space = tab:Clone()
	space.Parent = parent
	space.LayoutOrder = elements
	space.Visible = true

	elements += 1
end

function lib:AddToggle(name, funct, enabled, ...)
	local newTog = Toggle:Clone()
	local args = {...}
	
	-- Add outline to cloned toggle
	local outline = ToggleOutline:Clone()
	outline.Parent = newTog
	
	newTog.MouseButton1Click:Connect(function()
		enabled = not enabled
		local check = newTog:WaitForChild("Enabled"):WaitForChild("Check")
		if enabled then
			fadeIn(check, 0.15, {BackgroundTransparency = 0})
			check.Visible = true
		else
			fadeOut(check, 0.15, {BackgroundTransparency = 1})
			task.wait(0.15)
			check.Visible = false
		end
		funct(enabled, unpack(args))
	end)

	newTog:WaitForChild("Enabled"):WaitForChild("Check").Visible = enabled
	newTog:WaitForChild("Name").Text = name

	newTog.Size = UDim2.new(0.95, 0, 0, element_height)
	newTog.Name = name
	newTog.Parent = Menu
	newTog.LayoutOrder = elements
	newTog.Visible = true
	
	-- Apply fade in animation when added
	newTog.BackgroundTransparency = 1
	if newTog:FindFirstChildWhichIsA("UIStroke") then
		newTog:FindFirstChildWhichIsA("UIStroke").Transparency = 1
	end
	newTog:WaitForChild("Name").TextTransparency = 1
	
	fadeIn(newTog, 0.2, {BackgroundTransparency = 0.1})
	fadeIn(newTog:FindFirstChildWhichIsA("UIStroke"), 0.2, {Transparency = 0.4})
	fadeIn(newTog:WaitForChild("Name"), 0.2, {TextTransparency = 0})

	elements += 1
	AddSpace(Menu)

	return newTog
end

function lib:AddButton(name, funct, ...)
	local newBut = Button:Clone()
	local args = {...}
	
	-- Add outline to cloned button
	local outline = ButtonOutline:Clone()
	outline.Parent = newBut
	
	-- Add click animation
	newBut.MouseButton1Down:Connect(function()
		fadeIn(newBut, 0.1, {BackgroundTransparency = 0.3})
		if outline then
			fadeIn(outline, 0.1, {Transparency = 0.6})
		end
	end)
	
	newBut.MouseButton1Up:Connect(function()
		fadeIn(newBut, 0.1, {BackgroundTransparency = 0.1})
		if outline then
			fadeIn(outline, 0.1, {Transparency = 0.4})
		end
	end)

	newBut.MouseButton1Click:Connect(function()
		funct(unpack(args))
	end)

	newBut:WaitForChild("Name").Text = name
	newBut.Size = UDim2.new(0.95, 0, 0, element_height)
	newBut.Name = name
	newBut.Parent = Menu
	newBut.LayoutOrder = elements
	newBut.Visible = true
	
	-- Apply fade in animation when added
	newBut.BackgroundTransparency = 1
	if newBut:FindFirstChildWhichIsA("UIStroke") then
		newBut:FindFirstChildWhichIsA("UIStroke").Transparency = 1
	end
	newBut:WaitForChild("Name").TextTransparency = 1
	
	fadeIn(newBut, 0.2, {BackgroundTransparency = 0.1})
	fadeIn(newBut:FindFirstChildWhichIsA("UIStroke"), 0.2, {Transparency = 0.4})
	fadeIn(newBut:WaitForChild("Name"), 0.2, {TextTransparency = 0})

	elements += 1
	AddSpace(Menu)

	return newBut
end

function lib:AddInputBox(name, funct, placeholder, default, ...)
	local newInput = InputBox:Clone()
	local args = {...}
	
	-- Add outline to cloned input box
	local outline = InputBoxOutline:Clone()
	outline.Parent = newInput
	
	newInput:WaitForChild("Name").Text = name
	if placeholder then
		newInput.TextBox.PlaceholderText = placeholder
	end
	if default then
		newInput.TextBox.Text = default
	end
	
	local textBox = newInput.TextBox
	
	-- Function to handle text submission
	local function submitText()
		local text = textBox.Text
		funct(text, unpack(args))
	end
	
	-- Submit on Enter key
	textBox.FocusLost:Connect(function(enterPressed)
		if enterPressed then
			submitText()
		end
	end)
	
	-- Submit on clicking outside the text box
	textBox.FocusLost:Connect(submitText)
	
	-- Add focus effects
	textBox.Focused:Connect(function()
		fadeIn(textBox, 0.15, {BackgroundTransparency = 0.1})
	end)
	
	textBox.FocusLost:Connect(function()
		fadeIn(textBox, 0.15, {BackgroundTransparency = 0.2})
	end)
	
	-- Optional: Add a submit button functionality
	newInput.MouseButton1Click:Connect(function()
		if not textBox:IsFocused() then
			textBox:CaptureFocus()
		end
	end)
	
	newInput.Size = UDim2.new(0.95, 0, 0, element_height)
	newInput.Name = name
	newInput.Parent = Menu
	newInput.LayoutOrder = elements
	newInput.Visible = true
	
	-- Apply fade in animation when added
	newInput.BackgroundTransparency = 1
	if newInput:FindFirstChildWhichIsA("UIStroke") then
		newInput:FindFirstChildWhichIsA("UIStroke").Transparency = 1
	end
	newInput:WaitForChild("Name").TextTransparency = 1
	textBox.TextTransparency = 1
	textBox.BackgroundTransparency = 1
	
	fadeIn(newInput, 0.2, {BackgroundTransparency = 0.1})
	fadeIn(newInput:FindFirstChildWhichIsA("UIStroke"), 0.2, {Transparency = 0.4})
	fadeIn(newInput:WaitForChild("Name"), 0.2, {TextTransparency = 0})
	fadeIn(textBox, 0.2, {BackgroundTransparency = 0.2, TextTransparency = 0})
	
	elements += 1
	AddSpace(Menu)
	
	-- Return the input box and text box for external control
	local inputObj = {
		Frame = newInput,
		TextBox = textBox,
		GetText = function()
			return textBox.Text
		end,
		SetText = function(newText)
			textBox.Text = newText or ""
		end,
		Clear = function()
			textBox.Text = ""
		end,
		SetPlaceholder = function(placeholderText)
			textBox.PlaceholderText = placeholderText or "Enter text..."
		end
	}
	
	return inputObj
end

function lib:AddComboBox(text, options, funct, ...)
	local newCombo = ComboBox:Clone()
	local enabled = false
	local elems = {}
	local args = {...}
	
	-- Add outline to cloned combobox
	local outline = ComboBoxOutline:Clone()
	outline.Parent = newCombo

	local function setBoxState()
		local img = newCombo:WaitForChild("Img")
		if enabled then
			fadeIn(img, 0.2, {Rotation = 0})
		else
			fadeIn(img, 0.2, {Rotation = 180})
		end
		for _, elem in ipairs(elems) do
			if enabled then
				elem.Visible = true
				fadeIn(elem, 0.2, {BackgroundTransparency = 0.1})
				if elem:FindFirstChildWhichIsA("TextLabel") then
					fadeIn(elem:FindFirstChildWhichIsA("TextLabel"), 0.2, {TextTransparency = 0})
				end
			else
				fadeOut(elem, 0.2, {BackgroundTransparency = 1})
				if elem:FindFirstChildWhichIsA("TextLabel") then
					fadeOut(elem:FindFirstChildWhichIsA("TextLabel"), 0.2, {TextTransparency = 1})
				end
				task.wait(0.2)
				elem.Visible = false
			end
		end
	end

	newCombo.MouseButton1Click:Connect(function()
		enabled = not enabled
		setBoxState()
	end)

	newCombo:WaitForChild("Name").Text = text .. ": " .. (#options > 0 and options[1] or "")
	newCombo.Size = UDim2.new(0.95, 0, 0, element_height)
	newCombo.Name = #options > 0 and options[1] or ""
	newCombo.Parent = Menu
	newCombo.LayoutOrder = elements
	newCombo.Parent = Menu
	newCombo.Visible = true
	
	-- Apply fade in animation when added
	newCombo.BackgroundTransparency = 1
	if newCombo:FindFirstChildWhichIsA("UIStroke") then
		newCombo:FindFirstChildWhichIsA("UIStroke").Transparency = 1
	end
	newCombo:WaitForChild("Name").TextTransparency = 1
	newCombo:WaitForChild("Img").TextTransparency = 1
	
	fadeIn(newCombo, 0.2, {BackgroundTransparency = 0.1})
	fadeIn(newCombo:FindFirstChildWhichIsA("UIStroke"), 0.2, {Transparency = 0.4})
	fadeIn(newCombo:WaitForChild("Name"), 0.2, {TextTransparency = 0})
	fadeIn(newCombo:WaitForChild("Img"), 0.2, {TextTransparency = 0})

	elements += 1
	AddSpace(Menu)

	for _, name in ipairs(options) do
		local newElem = ComboElem:Clone()
		table.insert(elems, newElem)

		newElem.MouseButton1Click:Connect(function()
			newCombo:WaitForChild("Name").Text = text .. ": " .. name
			enabled = false
			setBoxState()

			funct(name, unpack(args))
		end)

		newElem:WaitForChild("Name").Text = name
		newElem.Size = UDim2.new(0.95, 0, 0, element_height)
		newElem.Name = name
		newElem.Parent = Menu
		newElem.LayoutOrder = elements
		newElem.Visible = false
		newElem.BackgroundTransparency = 1
		newElem:WaitForChild("Name").TextTransparency = 1
		newElem:WaitForChild("Img").TextTransparency = 1

		elements += 1
		AddSpace(Menu)
	end

	return newCombo
end

function lib:SetTitle(txt)
    Title.Text = txt
end

function lib:SetIcon(img)
    Logo.Image = img
end

function lib:SetBackgroundColor(r, g ,b)
    Main.BackgroundColor3 = Color3.fromRGB(r, g, b)
    Intro.BackgroundColor3 = Color3.fromRGB(r, g, b)
end

function lib:SetTitleColor(r, g, b)
    Title.TextColor3 = Color3.fromRGB(r, g, b)
end

function lib:SetCloseBtnColor(r, g, b)
    Close.TextColor3 = Color3.fromRGB(r, g, b)
	Img_2.TextColor3 = Color3.fromRGB(r, g, b)
	Check.BackgroundColor3 = Color3.fromRGB(r, g, b)
end

function lib:SetButtonsColor(r, g ,b)
    Toggle.BackgroundColor3 = Color3.fromRGB(r, g, b)
	Button.BackgroundColor3 = Color3.fromRGB(r, g, b)
	ComboElem.BackgroundColor3 = Color3.fromRGB(r, g, b)
	ComboBox.BackgroundColor3 = Color3.fromRGB(r, g, b)
	InputBox.BackgroundColor3 = Color3.fromRGB(r, g, b)
end

function lib:SetInputBoxColor(r, g, b)
    InputBox.BackgroundColor3 = Color3.fromRGB(r, g, b)
    TextBox.BackgroundColor3 = Color3.fromRGB(math.max(0, r-15), math.max(0, g-15), math.max(0, b-15))
end

function lib:SetOutlineColor(r, g, b)
	MainOutline.Color = Color3.fromRGB(r, g, b)
	ToggleOutline.Color = Color3.fromRGB(r, g, b)
	ButtonOutline.Color = Color3.fromRGB(r, g, b)
	ComboBoxOutline.Color = Color3.fromRGB(r, g, b)
	InputBoxOutline.Color = Color3.fromRGB(r, g, b)
end

function lib:SetTheme(theme)
	if theme == "Default" then
		lib:SetOutlineColor(80, 80, 80)
		lib:SetButtonsColor(55, 55, 55)
		lib:SetCloseBtnColor(255, 0, 0)
		lib:SetBackgroundColor(40, 40, 40)
		lib:SetInputBoxColor(55, 55, 55)
	elseif theme == "TomorrowNightBlue" then
		lib:SetButtonsColor(74, 208, 238)
		lib:SetCloseBtnColor(74, 208, 238)
		lib:SetBackgroundColor(5, 16, 58)
		lib:SetInputBoxColor(74, 208, 238)
		lib:SetOutlineColor(40, 180, 220)
	elseif theme == "HighContrast" then
		lib:SetBackgroundColor(0, 0, 0)
		lib:SetButtonsColor(0, 0, 0)
		lib:SetCloseBtnColor(255, 255, 0)
		lib:SetInputBoxColor(0, 0, 0)
		lib:SetOutlineColor(60, 60, 60)
	elseif theme == "Aqua" then
		lib:SetBackgroundColor(44, 62, 82)
		lib:SetButtonsColor(52, 74, 95)
		lib:SetCloseBtnColor(26, 189, 158)
		lib:SetInputBoxColor(52, 74, 95)
		lib:SetOutlineColor(20, 170, 140)
	elseif theme == "Ocean" then
		lib:SetBackgroundColor(26, 32, 58)
		lib:SetButtonsColor(38, 45, 71)
		lib:SetCloseBtnColor(86, 76, 251)
		lib:SetInputBoxColor(38, 45, 71)
		lib:SetOutlineColor(70, 60, 230)
	else
		error("Theme not found.")
	end
end

-- INIT

Main:TweenPosition(
	UDim2.fromScale(0.5, 0.5),
	Enum.EasingDirection.Out,
	Enum.EasingStyle.Back,
	1.5, true, nil
)

task.wait(1.5)
Logo:TweenSizeAndPosition(
	UDim2.fromScale(0.175, 0.175),
	UDim2.fromScale(0.075, 0.15),
	Enum.EasingDirection.Out,
	Enum.EasingStyle.Back,
	1.5, true, nil
)

task.wait(1.5)
TweenService:Create(Intro, TweenInfo.new(1.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundTransparency = 1}):Play()

return lib
